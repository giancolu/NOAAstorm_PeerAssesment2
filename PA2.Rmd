---
title: "PA2"
author: "GianLuca Colussi"
date: "08/16/2014"
output: html_document
---

## Peer assessment 2 - Exploring the U.S. National Oceanic and Atmospheric Administration's (NOAA) storm database

### Download and preprocessing data

Load needed packages
```{r, message = F}
library(R.utils)
library(ggplot2)
```


Set work directory, download and extract bzipped dataset
```{r}
setwd("~/NOAAstorm_PeerAssesment2")
dir <- dir()
fileex <- dir=="NOAAstorm.csv.bz2"
fileex1 <- sum(fileex*1)
if (fileex1==0) {
        url <- "https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2"
        download.file(url,"NOAAstorm.csv.bz2",method="curl")        
        }
fileex2 <- dir=="NOAAstorm.csv"
fileex3 <- sum(fileex2*1)
        if (fileex3==0) {
        bunzip2("NOAAstorm.csv.bz2","NOAAstorm.csv",remove=FALSE)
        } 
db <- read.csv("NOAAstorm.csv", na.strings = "")
```

